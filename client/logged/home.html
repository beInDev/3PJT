<template name="home">
    {{#if currentUser }}
    <div id="homeWrapper">
        <div id="userContainer" class="homeContainer container">
            <table>
                <tr>
                    <td></td>
                    <td id="currentUsernameContainer">
                        {{#if currentUserData.fullname }} {{! Does the current user have a fullname ? If yes, then show it. }}
                            <span class="fullname separator">
                                {{ currentUserData.fullname }}
                            </span>
                        {{/if}}
                        <span class="username">{{currentUser.username}}</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="content" id="pictureContainer">
                            <img src="{{currentUserData.avatarUrl}}"
                                 onerror="if (this.src != '/profilepictures/default_pics.jpg') this.src = '/profilepictures/default_pics.jpg';"
                                 alt="profile picture" id="userPicture"/>
                        </div>
                    </td>
                    <td>
                        <form id="gabForm">
                            <label for="gabArea">
                                <textarea rows="5" cols="51" maxlength="255" id="gabArea"></textarea>
                            </label>
                            <input type="submit" id="gabSubmit" value=">"/>
                        </form>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <span class="charCount"> {{charCount}} / 255</span>
                    </td>
                </tr>
            </table>
        </div>
        {{#if gabs }}
            <ul class="gabsContainer">
                {{#each gabs}}
                    {{> gab}}
                {{/each}}
            </ul>
        {{/if}}
    </div>
    {{/if}}
</template>